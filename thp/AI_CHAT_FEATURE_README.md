# AI Chat vá»›i File ÄÃ­nh KÃ¨m - HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

## Tá»•ng Quan

Chá»©c nÄƒng AI Chat vá»›i file Ä‘Ã­nh kÃ¨m cho phÃ©p ngÆ°á»i dÃ¹ng gá»­i áº£nh vÃ  tÃ i liá»‡u kÃ¨m theo tin nháº¯n Ä‘á»ƒ AI cÃ³ thá»ƒ phÃ¢n tÃ­ch vÃ  Ä‘Æ°a ra lá»i khuyÃªn phÃ¹ há»£p.

## TÃ­nh NÄƒng ChÃ­nh

### 1. Há»— Trá»£ File ÄÃ­nh KÃ¨m

- **áº¢nh**: JPG, PNG, GIF (tá»« thÆ° viá»‡n áº£nh)
- **TÃ i liá»‡u**: PDF, DOC, XLS, TXT vÃ  cÃ¡c Ä‘á»‹nh dáº¡ng khÃ¡c
- **Preview**: Hiá»ƒn thá»‹ preview file trÆ°á»›c khi gá»­i
- **Quáº£n lÃ½**: ThÃªm, xÃ³a tá»«ng file hoáº·c xÃ³a táº¥t cáº£

### 2. Xá»­ LÃ½ AI ThÃ´ng Minh

- AI tá»± Ä‘á»™ng nháº­n diá»‡n loáº¡i file Ä‘Ã­nh kÃ¨m
- Táº¡o mÃ´ táº£ chi tiáº¿t vá» file Ä‘á»ƒ AI hiá»ƒu
- Káº¿t há»£p thÃ´ng tin file vá»›i cÃ¢u há»i cá»§a ngÆ°á»i dÃ¹ng
- ÄÆ°a ra lá»i khuyÃªn dá»±a trÃªn ná»™i dung file

### 3. Giao Diá»‡n ThÃ¢n Thiá»‡n

- NÃºt Ä‘Ã­nh kÃ¨m file dá»… sá»­ dá»¥ng
- Menu lá»±a chá»n loáº¡i file (áº£nh/tÃ i liá»‡u)
- Hiá»ƒn thá»‹ file Ä‘Ã­nh kÃ¨m trong tin nháº¯n
- Responsive design cho má»i kÃ­ch thÆ°á»›c mÃ n hÃ¬nh

## CÃ¡ch Sá»­ Dá»¥ng

### BÆ°á»›c 1: Má»Ÿ AI Chat

1. VÃ o mÃ n hÃ¬nh AI Chat tá»« menu chÃ­nh
2. Chá»n cháº¿ Ä‘á»™ chat (chung hoáº·c theo dá»± Ã¡n)

### BÆ°á»›c 2: ÄÃ­nh KÃ¨m File

1. Nháº¥n nÃºt Ä‘Ã­nh kÃ¨m (ğŸ“) bÃªn cáº¡nh Ã´ nháº­p tin nháº¯n
2. Chá»n loáº¡i file muá»‘n Ä‘Ã­nh kÃ¨m:
   - **Chá»n áº£nh**: Má»Ÿ thÆ° viá»‡n áº£nh
   - **Chá»n tÃ i liá»‡u**: Má»Ÿ file manager

### BÆ°á»›c 3: Xem Preview

- File Ä‘Ã£ chá»n sáº½ hiá»ƒn thá»‹ trong pháº§n preview
- CÃ³ thá»ƒ xÃ³a tá»«ng file hoáº·c xÃ³a táº¥t cáº£
- Kiá»ƒm tra tÃªn file vÃ  kÃ­ch thÆ°á»›c

### BÆ°á»›c 4: Gá»­i Tin Nháº¯n

1. Nháº­p cÃ¢u há»i hoáº·c Ä‘á»ƒ trá»‘ng (chá»‰ gá»­i file)
2. Nháº¥n nÃºt gá»­i (â¤)
3. AI sáº½ xá»­ lÃ½ vÃ  tráº£ lá»i vá» file Ä‘Ã­nh kÃ¨m

## VÃ­ Dá»¥ Sá»­ Dá»¥ng

### VÃ­ Dá»¥ 1: PhÃ¢n TÃ­ch áº¢nh Sáº£n Pháº©m

```
NgÆ°á»i dÃ¹ng: "ÄÃ¢y lÃ  áº£nh sáº£n pháº©m má»›i, báº¡n tháº¥y cÃ³ váº¥n Ä‘á» gÃ¬ khÃ´ng?"
File Ä‘Ã­nh kÃ¨m: [áº¢nh sáº£n pháº©m.jpg]

AI tráº£ lá»i: "TÃ´i tháº¥y sáº£n pháº©m cÃ³ váº» á»•n, nhÆ°ng cáº§n kiá»ƒm tra:
- Cháº¥t lÆ°á»£ng bá» máº·t
- Äá»™ chÃ­nh xÃ¡c kÃ­ch thÆ°á»›c
- MÃ u sáº¯c cÃ³ Ä‘Ãºng yÃªu cáº§u khÃ´ng"
```

### VÃ­ Dá»¥ 2: PhÃ¢n TÃ­ch TÃ i Liá»‡u Ká»¹ Thuáº­t

```
NgÆ°á»i dÃ¹ng: "Kiá»ƒm tra báº£n váº½ ká»¹ thuáº­t nÃ y"
File Ä‘Ã­nh kÃ¨m: [Báº£n váº½ ká»¹ thuáº­t.pdf]

AI tráº£ lá»i: "Dá»±a trÃªn báº£n váº½ ká»¹ thuáº­t, tÃ´i tháº¥y:
- CÃ¡c kÃ­ch thÆ°á»›c Ä‘Æ°á»£c ghi rÃµ rÃ ng
- Cáº§n lÆ°u Ã½ vá» dung sai Â±0.1mm
- Gá»£i Ã½ sá»­ dá»¥ng mÃ¡y CNC Ä‘á»ƒ Ä‘áº£m báº£o Ä‘á»™ chÃ­nh xÃ¡c"
```

### VÃ­ Dá»¥ 3: Há»i Vá» Dá»± Ãn vá»›i File ÄÃ­nh KÃ¨m

```
NgÆ°á»i dÃ¹ng: "Dá»± Ã¡n nÃ y Ä‘ang gáº·p váº¥n Ä‘á» gÃ¬?"
File Ä‘Ã­nh kÃ¨m: [BÃ¡o cÃ¡o tiáº¿n Ä‘á»™.xlsx, áº¢nh cÃ´ng trÆ°á»ng.jpg]

AI tráº£ lá»i: "Dá»±a trÃªn bÃ¡o cÃ¡o vÃ  áº£nh cÃ´ng trÆ°á»ng:
- Tiáº¿n Ä‘á»™ cháº­m 15% so vá»›i káº¿ hoáº¡ch
- Cáº§n tÄƒng cÆ°á»ng nhÃ¢n lá»±c cho giai Ä‘oáº¡n sáº£n xuáº¥t
- Äá» xuáº¥t lÃ m thÃªm giá» Ä‘á»ƒ bÃ¹ Ä‘áº¯p thá»i gian"
```

## Cáº¥u TrÃºc Ká»¹ Thuáº­t

### 1. Components

- `AIChatComponent.js`: Component chÃ­nh xá»­ lÃ½ chat
- `AIChatTestComponent.js`: Component test chá»©c nÄƒng

### 2. Services

- `aiChatService.js`: Xá»­ lÃ½ API AI vÃ  file Ä‘Ã­nh kÃ¨m
- Há»— trá»£ Gemini API vÃ  OpenRouter fallback

### 3. Hooks & Contexts

- `useAIChat`: Quáº£n lÃ½ state chat
- `AIChatContext`: Context cho AI chat

### 4. File Processing

- `processAttachments()`: Xá»­ lÃ½ file Ä‘Ã­nh kÃ¨m
- `createAttachmentPrompt()`: Táº¡o prompt cho AI

## Quyá»n Truy Cáº­p

### Android

- `READ_EXTERNAL_STORAGE`: Äá»c file tá»« thiáº¿t bá»‹
- `CAMERA`: Chá»¥p áº£nh má»›i (náº¿u cáº§n)

### iOS

- `NSPhotoLibraryUsageDescription`: Truy cáº­p thÆ° viá»‡n áº£nh
- `NSDocumentsFolderUsageDescription`: Truy cáº­p thÆ° má»¥c tÃ i liá»‡u

## Xá»­ LÃ½ Lá»—i

### 1. Lá»—i Chá»n File

- Kiá»ƒm tra quyá»n truy cáº­p
- Äáº£m báº£o file khÃ´ng bá»‹ há»ng
- Kiá»ƒm tra kÃ­ch thÆ°á»›c file (giá»›i háº¡n 10MB)

### 2. Lá»—i Káº¿t Ná»‘i

- Kiá»ƒm tra káº¿t ná»‘i máº¡ng
- Thá»­ láº¡i sau vÃ i giÃ¢y
- Sá»­ dá»¥ng fallback API náº¿u cáº§n

### 3. Lá»—i AI Processing

- Kiá»ƒm tra API key
- Äáº£m báº£o file format Ä‘Æ°á»£c há»— trá»£
- Thá»­ gá»­i láº¡i tin nháº¯n

## Giá»›i Háº¡n

### 1. KÃ­ch ThÆ°á»›c File

- **áº¢nh**: Tá»‘i Ä‘a 5MB
- **TÃ i liá»‡u**: Tá»‘i Ä‘a 10MB
- **Tá»•ng cá»™ng**: Tá»‘i Ä‘a 20MB má»—i tin nháº¯n

### 2. Sá»‘ LÆ°á»£ng File

- Tá»‘i Ä‘a 5 file má»—i tin nháº¯n
- Há»— trá»£ mix áº£nh vÃ  tÃ i liá»‡u

### 3. Äá»‹nh Dáº¡ng Há»— Trá»£

- **áº¢nh**: JPG, PNG, GIF, WebP
- **TÃ i liá»‡u**: PDF, DOC, DOCX, XLS, XLSX, TXT, RTF

## Tá»‘i Æ¯u HÃ³a

### 1. Performance

- NÃ©n áº£nh tá»± Ä‘á»™ng (quality: 0.8)
- Cache file táº¡m thá»i
- Lazy loading cho preview

### 2. UX

- Loading indicator khi xá»­ lÃ½
- Error handling thÃ¢n thiá»‡n
- Auto-scroll Ä‘áº¿n tin nháº¯n má»›i

### 3. AI Response

- Context-aware responses
- Fallback cho API lá»—i
- Rate limiting Ä‘á»ƒ trÃ¡nh spam

## Testing

### 1. Unit Tests

- Test file processing functions
- Test API integration
- Test error handling

### 2. Integration Tests

- Test end-to-end flow
- Test file upload/download
- Test AI response generation

### 3. Manual Testing

- Test vá»›i cÃ¡c loáº¡i file khÃ¡c nhau
- Test vá»›i kÃ­ch thÆ°á»›c file lá»›n
- Test vá»›i káº¿t ná»‘i máº¡ng yáº¿u

## Troubleshooting

### 1. File KhÃ´ng Hiá»ƒn Thá»‹

- Kiá»ƒm tra quyá»n truy cáº­p
- Restart app
- Clear cache

### 2. AI KhÃ´ng Tráº£ Lá»i

- Kiá»ƒm tra káº¿t ná»‘i máº¡ng
- Kiá»ƒm tra API key
- Thá»­ gá»­i láº¡i tin nháº¯n

### 3. App Bá»‹ Crash

- Kiá»ƒm tra phiÃªn báº£n React Native
- Kiá»ƒm tra Expo SDK version
- Clear app data

## Roadmap

### Phase 1 (Hiá»‡n táº¡i)

- âœ… Há»— trá»£ áº£nh vÃ  tÃ i liá»‡u cÆ¡ báº£n
- âœ… AI processing Ä‘Æ¡n giáº£n
- âœ… UI cÆ¡ báº£n

### Phase 2 (TÆ°Æ¡ng lai)

- ğŸ”„ OCR cho tÃ i liá»‡u
- ğŸ”„ AI vision cho áº£nh
- ğŸ”„ Batch file processing

### Phase 3 (DÃ i háº¡n)

- ğŸ“‹ Multi-language support
- ğŸ“‹ Advanced AI models
- ğŸ“‹ Cloud storage integration

## LiÃªn Há»‡ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á» hoáº·c cáº§n há»— trá»£:

- Email: support@thpapp.com
- Hotline: 1900-xxxx
- Documentation: https://docs.thpapp.com

---

**LÆ°u Ã½**: Chá»©c nÄƒng nÃ y yÃªu cáº§u káº¿t ná»‘i internet á»•n Ä‘á»‹nh vÃ  API key há»£p lá»‡ Ä‘á»ƒ hoáº¡t Ä‘á»™ng tá»‘t nháº¥t.
